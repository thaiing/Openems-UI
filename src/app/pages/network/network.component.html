<div class="page-container">
  <h1>Network Configuration</h1>

  <nav class="tab-nav">
    <a (click)="selectTab('ethernet')" [class.active]="activeTab === 'ethernet'">
      <i class="fas fa-network-wired"></i> Ethernet
    </a>
    <a (click)="selectTab('4g')" [class.active]="activeTab === '4g'">
      <i class="fas fa-sim-card"></i> 4G/LTE
    </a>
  </nav>

  <div class="tab-content">
    <div class="tab-pane" [class.active]="activeTab === 'ethernet'">
      <div *ngIf="isLoading" class="loading-container">
        <div class="spinner"></div>
      </div>
      <div *ngIf="error" class="error-card">{{ error }}</div>

      <div *ngIf="!isLoading && !error" class="card">
        <div class="card-header">
          <h2>Ethernet Interfaces</h2>
        </div>
        <div class="card-content">
          <ng-container *ngFor="let config of networkConfigs; let i = index">
            <div class="interface-row" [formGroup]="networkForms[config.id]">
              <div class="row-header">
                <h3>{{ config.displayName }}</h3>
              </div>
              <div class="row-content">
                <div class="form-field mode-field">
                  <label>Mode</label>
                  <div class="radio-group-pills">
                    <label class="radio-pill">
                      <input type="radio" formControlName="isDhcp" [value]="true">
                      <span>Automatic (DHCP)</span>
                    </label>
                    <label class="radio-pill">
                      <input type="radio" formControlName="isDhcp" [value]="false">
                      <span>Manual</span>
                    </label>
                  </div>
                </div>
                <div class="form-field ip-field">
                  <label>IP Address</label>
                  <input type="text" formControlName="ipAddress">
                </div>
                <div class="form-field ip-field">
                  <label>Subnet Mask</label>
                  <input type="text" formControlName="subnetMask">
                </div>
                <div class="form-field ip-field">
                  <label>Gateway</label>
                  <input type="text" formControlName="gateway">
                </div>
                <div class="form-field action-field">
                  <button (click)="onSave(config.id)"
                          [disabled]="networkForms[config.id].pristine || networkForms[config.id].disabled"
                          class="button-primary">
                    Save
                  </button>
                </div>
              </div>
            </div>
            <hr *ngIf="i < networkConfigs.length - 1" class="row-divider">
          </ng-container>
        </div>
      </div>
    </div>

    <div class="tab-pane" [class.active]="activeTab === '4g'">
      <div class="card">
        <div class="card-header">
          <h2>4G/LTE Settings</h2>
        </div>
        <div class="card-content">
          <div class="setting-row">
            <label class="setting-label">Enable 4G/LTE</label>
            <div class="setting-control">
              <label class="switch">
                <input type="checkbox" id="lte-enable">
                <span class="slider"></span>
              </label>
            </div>
          </div>
          <hr class="row-divider">
          <div class="setting-row">
            <label class="setting-label" for="apn">APN</label>
            <div class="setting-control">
              <input type="text" id="apn" placeholder="e.g., internet">
            </div>
          </div>
          <hr class="row-divider">
          <div class="setting-row">
            <label class="setting-label" for="username">Username</label>
            <div class="setting-control">
              <input type="text" id="username" placeholder="(Optional)">
            </div>
          </div>
          <hr class="row-divider">
          <div class="setting-row">
            <label class="setting-label" for="password">Password</label>
            <div class="setting-control">
              <input type="password" id="password" placeholder="(Optional)">
            </div>
          </div>
          <hr class="row-divider">
          <div class="setting-row">
            <label class="setting-label" for="server">Server</label>
            <div class="setting-control">
              <input type="text" id="server" placeholder="(Optional)">
            </div>
          </div>
        </div>
        <div class="card-footer">
          <button class="button-primary" disabled>Save Changes</button>
        </div>
      </div>
    </div>
  </div>
</div>
